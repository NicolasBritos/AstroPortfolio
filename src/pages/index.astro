---
import BaseLayout from "../layouts/BaseLayout.astro";
import HorizontalCard from "../components/HorizontalCard.astro";
import { getCollection } from "astro:content";

const posts = (await getCollection('blog')).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);

const last_posts = posts.slice(0, 3);
---

<BaseLayout>

    <div class="pb-12 mt-5">
      <div class="text-xl py-1">Hola! 😀 </div>
      <div class="text-5xl font-bold">Soy Nicolas Britos</div>
      <div class="text-3xl py-3 font-bold">Java Backend Developer</div>
      <div class="py-2">
        <text class="text-lg">
          Actualmente trabajo en una Fintech multinacional donde me desempeño como backend developer utilizando como tecnologías principales Java y Spring Boot / Spring Framework. Además, soy estudiante de la carrera "Analista Universitario en Sistemas", cursando el tercer año de la misma.
          </text
        >
      </div>

      <div class="hero min-w-screen bg-base-200">
        <div class="hero-content flex-col lg:flex-row">
          <img src="/public/foto-polo.jpg" class="max-w-sm rounded-lg shadow-2xl w-full lg:w-auto" />
          <div>
            <h1 class="text-3xl font-bold">Más sobre mi 👨‍💻</h1>
            <p class="py-6">Tengo 1 año de experiencia desarrollando en el mundo Fintech, y constantemente me encuentro realizando cursos que me sirven en el día a día.</p>
            <button><a href="/cv" class="btn btn-outline btn-info"> Mira mi Cv! 📄</a></button>
          </div>
        </div>
      </div>

    </div>

    <div>
      <div class="text-3xl w-full font-bold mb-2">Mis últimos proyectos personales {"</>"}</div>
    </div>
    

    <HorizontalCard
      title="CRUD Spring Boot (APIs REST)"
      img="/public/crud-img.JPG"
      desc="CRUD realizado en Java con Spring Boot Framework con arquitectura APIs REST"
      url="https://github.com/NicolasBritos/BazarSpringBoot"
    />
    <div class="divider my-0"></div>
    <HorizontalCard
    title="Microservicios Spring Boot"
    img="/public/microservicios-spring.JPG"
    desc="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."
    url="#"
    badge="NEW"
  />

    {
      last_posts.map((post) => (
        <HorizontalCard
          title={post.data.title}
          img={post.data.heroImage}
          desc={post.data.description}
          url={"/blog/" + post.slug}
          target="_self"
        />
        <div class="divider my-0"></div>
      ))
    }

</BaseLayout>
